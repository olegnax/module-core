<?php $scriptString = <<<script
!function(){function t(){this.settings={src:"data-original",srcset:"data-originalset",selector:".lazy",selectorClass:"lazy",loadClass:"lazy-loader",loadEvent:"lazyLoaded.oxlazy",root:null,rootMargin:"0px",threshold:0,debouncer:500},this.images=document.querySelectorAll(this.settings.selector),this.observer=null;let t=this;this.load=function(e){let s=e.target,n=s.parentElement;if(s.src===s.getAttribute(t.settings.src)){s.classList.remove(t.settings.selectorClass),n.classList.remove(t.settings.loadClass);let o=n.closest(".product-item-photo");o&&o.classList.remove(t.settings.loadClass),s.dispatchEvent(new Event(t.settings.loadEvent)),t.observer&&t.observer.unobserve(s)}},this.destroy=function(){t.observer&&t.observer.disconnect()},this.applyImage=function(e){let s=e.getAttribute(t.settings.src),n=e.getAttribute(t.settings.srcset);"img"===e.tagName.toLowerCase()?(e.onload=t.load,s&&(e.src=s),n&&(e.srcset=n)):e.style.backgroundImage="url('"+s+"')"},this.init=function(){if("IntersectionObserver"in window)try{t.observer=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&t.applyImage(e.target)})},{rootMargin:t.settings.rootMargin,threshold:[t.settings.threshold]}),t.images.forEach(function(e){t.observer.observe(e)})}catch(e){console.info(e)}},this.init()}window.lazyLoad=function(){return new t}}(),document.addEventListener("DOMContentLoaded",function(){lazyLoad()}),document.body.addEventListener("contentUpdated",function(){lazyLoad()}),document.body.addEventListener("contentUpdated.oxlazy",function(){lazyLoad()}),"undefined"!=typeof require&&require(["jquery"],function(t){t(document.body).on("contentUpdated contentUpdated.oxlazy",lazyLoad)});
script;
?>
<?php
if (isset($secureRenderer)){
    echo /* @noEscape */ $secureRenderer->renderTag('script', [], $scriptString, false);
} else{
    echo /* @noEscape */ '<script>' .  $scriptString . '</script>';
}